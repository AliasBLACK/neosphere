export var Yoga;(()=>{"use strict";var e,t,i,n,s,o,a,r,l,u,d,h={d:(e,t)=>{for(var i in t)h.o(t,i)&&!h.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},c={};h.r(c),h.d(c,{ALIGN_AUTO:()=>Lt,ALIGN_BASELINE:()=>Ft,ALIGN_CENTER:()=>xt,ALIGN_FLEX_END:()=>St,ALIGN_FLEX_START:()=>wt,ALIGN_SPACE_AROUND:()=>_t,ALIGN_SPACE_BETWEEN:()=>vt,ALIGN_STRETCH:()=>Dt,Config:()=>Ci,DIMENSION_HEIGHT:()=>Et,DIMENSION_WIDTH:()=>Ct,DIRECTION_INHERIT:()=>Mt,DIRECTION_LTR:()=>At,DIRECTION_RTL:()=>Rt,DISPLAY_FLEX:()=>Pt,DISPLAY_NONE:()=>bt,EDGE_ALL:()=>Ht,EDGE_BOTTOM:()=>Wt,EDGE_END:()=>Nt,EDGE_HORIZONTAL:()=>Ot,EDGE_LEFT:()=>Tt,EDGE_RIGHT:()=>Bt,EDGE_START:()=>It,EDGE_TOP:()=>Ut,EDGE_VERTICAL:()=>kt,EXPERIMENTALFEATURE_WEBFLEXBASIS:()=>Vt,FLEX_DIRECTION_COLUMN:()=>Gt,FLEX_DIRECTION_COLUMN_REVERSE:()=>Yt,FLEX_DIRECTION_ROW:()=>qt,FLEX_DIRECTION_ROW_REVERSE:()=>zt,JUSTIFY_CENTER:()=>jt,JUSTIFY_FLEX_END:()=>Jt,JUSTIFY_FLEX_START:()=>Xt,JUSTIFY_SPACE_AROUND:()=>Kt,JUSTIFY_SPACE_BETWEEN:()=>Zt,JUSTIFY_SPACE_EVENLY:()=>Qt,LOGLEVEL_DEBUG:()=>ii,LOGLEVEL_ERROR:()=>$t,LOGLEVEL_FATAL:()=>si,LOGLEVEL_INFO:()=>ti,LOGLEVEL_VERBOSE:()=>ni,LOGLEVEL_WARN:()=>ei,Layout:()=>Fi,MEASURE_MODE_AT_MOST:()=>ri,MEASURE_MODE_EXACTLY:()=>ai,MEASURE_MODE_UNDEFINED:()=>oi,NODE_TYPE_DEFAULT:()=>li,NODE_TYPE_TEXT:()=>ui,Node:()=>Ai,OVERFLOW_HIDDEN:()=>hi,OVERFLOW_SCROLL:()=>ci,OVERFLOW_VISIBLE:()=>di,POSITION_TYPE_ABSOLUTE:()=>fi,POSITION_TYPE_RELATIVE:()=>gi,Size:()=>vi,UNDEFINED:()=>Di,UNIT_AUTO:()=>Li,UNIT_PERCENT:()=>pi,UNIT_POINT:()=>mi,UNIT_UNDEFINED:()=>yi,Value:()=>_i,WRAP_NO_WRAP:()=>wi,WRAP_WRAP:()=>xi,WRAP_WRAP_REVERSE:()=>Si}),function(e){e[e.Auto=0]="Auto",e[e.FlexStart=1]="FlexStart",e[e.Center=2]="Center",e[e.FlexEnd=3]="FlexEnd",e[e.Stretch=4]="Stretch",e[e.Baseline=5]="Baseline",e[e.SpaceBetween=6]="SpaceBetween",e[e.SpaceAround=7]="SpaceAround"}(e||(e={})),function(e){e[e.Width=0]="Width",e[e.Height=1]="Height"}(t||(t={})),function(e){e[e.Inherit=0]="Inherit",e[e.LTR=1]="LTR",e[e.RTL=2]="RTL"}(i||(i={})),function(e){e[e.Flex=0]="Flex",e[e.None=1]="None"}(n||(n={})),(o=s||(s={}))[o.Left=0]="Left",o[o.Top=1]="Top",o[o.Right=2]="Right",o[o.Bottom=3]="Bottom",o[o.Start=4]="Start",o[o.End=5]="End",o[o.Horizontal=6]="Horizontal",o[o.Vertical=7]="Vertical",o[o.All=8]="All",function(e){e[e.WebFlexBasis=0]="WebFlexBasis"}(a||(a={})),function(e){e[e.Column=0]="Column",e[e.ColumnReverse=1]="ColumnReverse",e[e.Row=2]="Row",e[e.RowReverse=3]="RowReverse"}(r||(r={})),function(e){e[e.FlexStart=0]="FlexStart",e[e.Center=1]="Center",e[e.FlexEnd=2]="FlexEnd",e[e.SpaceBetween=3]="SpaceBetween",e[e.SpaceAround=4]="SpaceAround",e[e.SpaceEvenly=5]="SpaceEvenly"}(l||(l={})),(d=u||(u={}))[d.Error=0]="Error",d[d.Warn=1]="Warn",d[d.Info=2]="Info",d[d.Debug=3]="Debug",d[d.Verbose=4]="Verbose",d[d.Fatal=5]="Fatal";const g=3;var f,y,m,p,L,w,x,S;!function(e){e[e.Undefined=0]="Undefined",e[e.Exactly=1]="Exactly",e[e.AtMost=2]="AtMost"}(f||(f={})),function(e){e[e.Default=0]="Default",e[e.Text=1]="Text"}(y||(y={})),function(e){e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden",e[e.Scroll=2]="Scroll"}(m||(m={})),function(e){e[e.Static=0]="Static",e[e.Relative=1]="Relative",e[e.Absolute=2]="Absolute"}(p||(p={})),function(e){e[e.Layout=1]="Layout",e[e.Style=2]="Style",e[e.Children=4]="Children"}(L||(L={})),(x=w||(w={}))[x.Undefined=0]="Undefined",x[x.Point=1]="Point",x[x.Percent=2]="Percent",x[x.Auto=3]="Auto",function(e){e[e.NoWrap=0]="NoWrap",e[e.Wrap=1]="Wrap",e[e.WrapReverse=2]="WrapReverse"}(S||(S={}));class D{constructor(e=void 0){if(e instanceof D)return this.value_=e.getValue(),void(this.isUndefined_=e.isUndefined());me(e)?(this.value_=0,this.isUndefined_=!0):(this.value_=e,this.isUndefined_=!1)}unwrap(){return this.isUndefined_?NaN:this.value_}clone(){return new D(this.isUndefined_?void 0:this.value_)}getValue(){if(this.isUndefined_)throw"Tried to get value of an undefined YGFloatOptional";return this.value_}setValue(e){this.value_=e,this.isUndefined_=!1}isUndefined(){return this.isUndefined_}add(e){return this.isUndefined_||e.isUndefined()?new D:new D(this.value_+e.getValue())}isBigger(e){return!this.isUndefined_&&!e.isUndefined()&&this.value_>e.getValue()}isSmaller(e){return!this.isUndefined_&&!e.isUndefined()&&this.value_<e.getValue()}isBiggerEqual(e){return!!this.isEqual(e)||this.isBigger(e)}isSmallerEqual(e){return!!this.isEqual(e)||this.isSmaller(e)}isEqual(e){return this.isUndefined_==e.isUndefined()&&(!!this.isUndefined_||this.value_==e.getValue())}isDiff(e){return!this.isEqual(e)}isEqualValue(e){return me(e)==this.isUndefined_&&(this.isUndefined_||e==this.value_)}isDiffValue(e){return!this.isEqualValue(e)}}class F{constructor(e){this.cloneNodeCallback=null,this.experimentalFeatures=[!1,!1,!1],this.useWebDefaults=!1,this.useLegacyStretchBehaviour=!1,this.shouldDiffLayoutWithoutLegacyStretchBehaviour=!1,this.printTree=!1,this.pointScaleFactor=1,this.logger=e,this.context=null}log(e,t,i,n,s,...o){this.logger(e,t,i,n,s,...o)}cloneNode(e,t,i,n){let s=null;return null!=this.cloneNodeCallback&&(s=this.cloneNodeCallback(e,t,i,n)),null==s&&(s=function(e){const t=new oe(e);return ce.publish(t,de.NodeAllocation,{config:t.getConfig()}),t.setOwner(null),t}(e)),s}setLogger(e){this.logger=e}setCloneNodeCallback(e){this.cloneNodeCallback=e}}class v{constructor(){this.itemsOnLine=0,this.sizeConsumedOnCurrentLine=0,this.totalFlexGrowFactors=0,this.totalFlexShrinkScaledFactors=0,this.endOfLineIndex=0,this.relativeChildren=[],this.remainingFreeSpace=0,this.mainDim=0,this.crossDim=0}}function _(e,t){return e.unit==t.unit&&(!!(e.unit==w.Undefined||me(e.value)&&me(t.value))||Math.abs(e.value-t.value)<1e-4)}function C(e,t){return me(e)||me(t)?me(e)&&me(t):Math.abs(e-t)<1e-4}function E(e,t){return me(e)||me(t)?me(e)?t:e:Math.max(e,t)}function M(e,t){return e.isUndefined()||t.isUndefined()?e.isUndefined()?t:e:e.getValue()>t.getValue()?e:t}function A(e,t){return me(e)||me(t)?me(e)?t:e:Math.min(e,t)}function R(e,t){let i=!0;for(let n=0;n<e.length&&i;++n)i=C(e[n],t[n]);return i}function P(e,t){let i=!0;for(let n=0;n<e.length&&i;++n)i=_(e[n],t[n]);return i}function b(e){return me(e)?0:e}function T(e,t){return W(e)?I(r.Row,t):r.Column}function U(e){return e==r.Row||e==r.RowReverse}function B(e,t){switch(e.unit){case w.Point:return new D(e.value);case w.Percent:return new D(e.value*t*.01);default:return new D}}function W(e){return e==r.Column||e==r.ColumnReverse}function I(e,t){if(t==i.RTL){if(e==r.Row)return r.RowReverse;if(e==r.RowReverse)return r.Row}return e}function N(e,t){return e.unit==w.Auto?new D(0):B(e,t)}function O(e){throw new Error(e)}function k(e){const t=new Array(e.length);for(let i=0;i<e.length;i++)t[i]=e[i].clone();return t}class H{constructor(){this.availableWidth=0,this.availableHeight=0,this.widthMeasureMode=f.Undefined,this.heightMeasureMode=f.Undefined,this.computedWidth=-1,this.computedHeight=-1}isEqual(e){let t=this.widthMeasureMode==e.widthMeasureMode&&this.heightMeasureMode==e.heightMeasureMode;return me(this.availableWidth)&&me(e.availableWidth)||(t=t&&this.availableWidth==e.availableWidth),me(this.availableHeight)&&me(e.availableHeight)||(t=t&&this.availableHeight==e.availableHeight),me(this.computedWidth)&&me(e.computedWidth)||(t=t&&this.computedWidth==e.computedWidth),me(this.computedHeight)&&me(e.computedHeight)||(t=t&&this.computedHeight==e.computedHeight),t}clone(){const e=new H;return e.availableWidth=this.availableWidth,e.availableHeight=this.availableHeight,e.widthMeasureMode=this.widthMeasureMode,e.heightMeasureMode=this.heightMeasureMode,e.computedWidth=this.computedWidth,e.computedHeight=this.computedHeight,e}}const V=[s.Top,s.Bottom,s.Left,s.Right],G=[s.Bottom,s.Top,s.Right,s.Left],Y=[s.Top,s.Bottom,s.Left,s.Right],q=[t.Height,t.Height,t.Width,t.Width],z=16;function X(e){const t=[];for(let i=0;i<e;i++)t.push(new H);return t}class j{constructor(){this.dimensions=[void 0,void 0],this.direction=i.Inherit,this.computedFlexBasisGeneration=0,this.computedFlexBasis=new D,this.hadOverflow=!1,this.generationCount=0,this.lastOwnerDirection=i.Inherit,this.nextCachedMeasurementsIndex=0,this.measuredDimensions=[void 0,void 0],this.cachedLayout=new H,this.didUseLegacyFlag=!1,this.doesLegacyStretchFlagAffectsLayout=!1,this.position=[void 0,void 0,void 0,void 0],this.margin=[void 0,void 0,void 0,void 0,void 0,void 0],this.border=[void 0,void 0,void 0,void 0,void 0,void 0],this.padding=[void 0,void 0,void 0,void 0,void 0,void 0],this.cachedMeasurements=X(16)}getDirection(){return this.direction}setDirection(e){this.direction=e}getDidUseLegacyFlag(){return this.didUseLegacyFlag}setDidUseLegacyFlag(e){this.didUseLegacyFlag=e}getDoesLegacyStretchFlagAffectsLayout(){return this.doesLegacyStretchFlagAffectsLayout}setDoesLegacyStretchFlagAffectsLayout(e){this.doesLegacyStretchFlagAffectsLayout=!0}getHadOverflow(){return this.hadOverflow}setHadOverflow(e){this.hadOverflow=e}equal(e){let t=R(this.position,e.position)&&R(this.dimensions,e.dimensions)&&R(this.margin,e.margin)&&R(this.border,e.border)&&R(this.padding,e.padding)&&this.direction==e.direction&&this.hadOverflow==e.hadOverflow&&this.lastOwnerDirection==e.lastOwnerDirection&&this.nextCachedMeasurementsIndex==e.nextCachedMeasurementsIndex&&this.cachedLayout==e.cachedLayout&&this.computedFlexBasis==e.computedFlexBasis;for(let i=0;i<16&&t;++i)t=t&&this.cachedMeasurements[i]==e.cachedMeasurements[i];return me(this.measuredDimensions[0])&&me(e.measuredDimensions[0])||(t=t&&this.measuredDimensions[0]==e.measuredDimensions[0]),me(this.measuredDimensions[1])&&me(e.measuredDimensions[1])||(t=t&&this.measuredDimensions[1]==e.measuredDimensions[1]),t}diff(e){return!this.equal(e)}clean(){this.dimensions=[void 0,void 0],this.direction=i.Inherit,this.computedFlexBasisGeneration=0,this.computedFlexBasis=new D,this.hadOverflow=!1,this.generationCount=0,this.lastOwnerDirection=i.RTL,this.nextCachedMeasurementsIndex=0,this.measuredDimensions=[void 0,void 0],this.cachedLayout=new H,this.didUseLegacyFlag=!1,this.doesLegacyStretchFlagAffectsLayout=!1,this.position=[void 0,void 0,void 0,void 0],this.margin=[void 0,void 0,void 0,void 0,void 0,void 0],this.border=[void 0,void 0,void 0,void 0,void 0,void 0],this.padding=[void 0,void 0,void 0,void 0,void 0,void 0],this.cachedMeasurements=X(16)}clone(){const e=new j;return e.dimensions=[this.dimensions[0],this.dimensions[1]],e.direction=this.direction,e.computedFlexBasisGeneration=this.computedFlexBasisGeneration,e.computedFlexBasis=this.computedFlexBasis.clone(),e.hadOverflow=this.hadOverflow,e.generationCount=this.generationCount,e.lastOwnerDirection=this.lastOwnerDirection,e.nextCachedMeasurementsIndex=this.nextCachedMeasurementsIndex,e.measuredDimensions=[this.measuredDimensions[0],this.measuredDimensions[1]],e.cachedLayout=this.cachedLayout.clone(),e.didUseLegacyFlag=this.didUseLegacyFlag,e.doesLegacyStretchFlagAffectsLayout=this.doesLegacyStretchFlagAffectsLayout,e.position=[this.position[0],this.position[1],this.position[2],this.position[3]],e.margin=[this.margin[0],this.margin[1],this.margin[2],this.margin[3],this.margin[4],this.margin[5]],e.border=[this.border[0],this.border[1],this.border[2],this.border[3],this.border[4],this.border[5]],e.padding=[this.padding[0],this.padding[1],this.padding[2],this.padding[3],this.padding[4],this.padding[5]],e.cachedMeasurements=X(16),e}}const J=void 0,Z=()=>new $(0,w.Point),K=()=>new $(J,w.Undefined),Q=()=>new $(J,w.Auto);class ${constructor(e,t){this.value=e,this.unit=t}eq(e){const t=this,i=e;if(t.unit!=i.unit)return!1;switch(t.unit){case w.Undefined:case w.Auto:return!0;case w.Point:case w.Percent:return t.value==i.value}return!1}neq(e){return!this.eq(e)}subtract(e){return new $(-e.value,e.unit)}clone(){return new $(this.value,this.unit)}isUndefined(){return this.unit==w.Undefined}}const ee=()=>new $(0,w.Undefined),te=()=>new $(0,w.Auto),ie=()=>[ee(),ee(),ee(),ee(),ee(),ee(),ee(),ee(),ee()],ne=()=>[ee(),ee()];class se{constructor(){this.margin=new Array(9),this.position=new Array(9),this.padding=new Array(9),this.border=new Array(9),this.direction=i.Inherit,this.flexDirection=r.Column,this.justifyContent=l.FlexStart,this.alignContent=e.FlexStart,this.alignItems=e.Stretch,this.alignSelf=e.Auto,this.positionType=p.Relative,this.flexWrap=S.NoWrap,this.overflow=m.Visible,this.display=n.Flex,this.flex=new D,this.flexGrow=new D,this.flexShrink=new D,this.flexBasis=te(),this.margin=ie(),this.position=ie(),this.padding=ie(),this.border=ie(),this.dimensions=[te(),te()],this.minDimensions=ne(),this.maxDimensions=ne(),this.aspectRatio=new D}isEqual(e){let t=this.direction==e.direction&&this.flexDirection==e.flexDirection&&this.justifyContent==e.justifyContent&&this.alignContent==e.alignContent&&this.alignItems==e.alignItems&&this.alignSelf==e.alignSelf&&this.positionType==e.positionType&&this.flexWrap==e.flexWrap&&this.overflow==e.overflow&&this.display==e.display&&_(this.flexBasis,e.flexBasis)&&P(this.margin,e.margin)&&P(this.position,e.position)&&P(this.padding,e.padding)&&P(this.border,e.border)&&P(this.dimensions,e.dimensions)&&P(this.minDimensions,e.minDimensions)&&P(this.maxDimensions,e.maxDimensions);return t=t&&this.flex.isUndefined()==e.flex.isUndefined(),!t||this.flex.isUndefined()||e.flex.isUndefined()||(t=t&&this.flex.getValue()==e.flex.getValue()),t=t&&this.flexGrow.isUndefined()==e.flexGrow.isUndefined(),t&&!this.flexGrow.isUndefined()&&(t=t&&this.flexGrow.getValue()==e.flexGrow.getValue()),t=t&&this.flexShrink.isUndefined()==e.flexShrink.isUndefined(),t&&!e.flexShrink.isUndefined()&&(t=t&&this.flexShrink.getValue()==e.flexShrink.getValue()),this.aspectRatio.isUndefined()&&e.aspectRatio.isUndefined()||(t=t&&this.aspectRatio.getValue()==e.aspectRatio.getValue()),t}isDiff(e){return!this.isEqual(e)}clone(){const e=new se;return e.direction=this.direction,e.flexDirection=this.flexDirection,e.justifyContent=this.justifyContent,e.alignContent=this.alignContent,e.alignItems=this.alignItems,e.alignSelf=this.alignSelf,e.positionType=this.positionType,e.flexWrap=this.flexWrap,e.overflow=this.overflow,e.display=this.display,e.flex=this.flex.clone(),e.flexGrow=this.flexGrow.clone(),e.flexShrink=this.flexShrink.clone(),e.flexBasis=this.flexBasis.clone(),e.margin=k(this.margin),e.position=k(this.position),e.padding=k(this.padding),e.border=k(this.border),e.dimensions=[this.dimensions[0].clone(),this.dimensions[1].clone()],e.minDimensions=[this.minDimensions[0].clone(),this.minDimensions[1].clone()],e.maxDimensions=[this.maxDimensions[0].clone(),this.maxDimensions[1].clone()],e.aspectRatio=this.aspectRatio.clone(),e}}class oe{relativePosition(e,t){if(this.isLeadingPositionDefined(e))return this.getLeadingPosition(e,t);const i=this.getTrailingPosition(e,t);return i.isUndefined()||i.setValue(-1*i.getValue()),i}constructor(e=null,t=null,i=!0,n=!1,s=y.Default,o=null,a=null,r=null,l=new se,u=new j,d=0,h=null,c=[],g=null,f=!1,m=[K(),K()]){if(e instanceof oe)return console.log("from node"),void this.fromNode(e);this.initialize(t,i,n,s,o,a,r,l,u,d,h,c,g,f,m),e instanceof F?(this.config_=e,this.context_=null):this.context_=e}initialize(e=null,t=!0,i=!1,n=y.Default,s=null,o=null,a=null,r=new se,l=new j,u=0,d=null,h=[],c=null,g=!1,f=[K(),K()]){this.print_=e,this.hasNewLayout_=t,this.isReferenceBaseline_=i,this.nodeType_=n,this.measure_=s,this.baseline_=o,this.dirtied_=a,this.style_=r,this.layout_=l,this.lineIndex_=u,this.owner_=d,this.children_=h,this.config_=c,this.isDirty_=g,this.resolvedDimensions_=f,this.context_=null}operatorAtrib(e){return e==this||(this.clearChildren(),this.fromNode(e)),this}fromNode(e){console.log(e),this.context_=e.context_,this.print_=e.print_,this.hasNewLayout_=e.hasNewLayout_,this.isReferenceBaseline_=e.isReferenceBaseline_,this.nodeType_=e.nodeType_,this.measure_=e.measure_,this.baseline_=e.baseline_,this.dirtied_=e.dirtied_,this.style_=e.style_,this.layout_=e.layout_,this.lineIndex_=e.lineIndex_,this.owner_=e.owner_,this.children_=e.children_,this.config_=e.config_,this.isDirty_=e.isDirty_,this.resolvedDimensions_=e.resolvedDimensions_}print(e){null!=this.print_&&this.print_(this,e)}computeEdgeValueForRow(e,t,i,n){return e[t].isUndefined()?e[i].isUndefined()?e[s.Horizontal].isUndefined()?e[s.All].isUndefined()?n:e[s.All]:e[s.Horizontal]:e[i]:e[t]}computeEdgeValueForColumn(e,t,i){return e[t].isUndefined()?e[s.Vertical].isUndefined()?e[s.All].isUndefined()?i:e[s.All]:e[s.Vertical]:e[t]}measure(e,t,i,n,s){return this.measure_(this,e,t,i,n,s)}baseline(e,t,i){return this.baseline_(this,e,t,i)}useWebDefaults(){this.config_.useWebDefaults=!0,this.style_.flexDirection=r.Row,this.style_.alignContent=e.Stretch}hasMeasureFunc(){return null!=this.measure_}hasBaselineFunc(){return null!=this.baseline_}getContext(){return this.context_}getHasNewLayout(){return this.hasNewLayout_}getNodeType(){return this.nodeType_}getDirtied(){return this.dirtied_}getStyle(){return this.style_}getLayout(){return this.layout_}getLineIndex(){return this.lineIndex_}isReferenceBaseline(){return this.isReferenceBaseline_}getOwner(){return this.owner_}getParent(){return this.getOwner()}getChildren(){return this.children_}getChildrenCount(){return this.children_.length}getChild(e){return this.children_[e]}getConfig(){return this.config_}isDirty(){return this.isDirty_}getResolvedDimensions(){return this.resolvedDimensions_}getResolvedDimension(e){return this.resolvedDimensions_[e]}getLeadingPosition(e,t){return B(U(e)?this.computeEdgeValueForRow(this.style_.position,s.Start,V[e],Z()):this.computeEdgeValueForColumn(this.style_.position,V[e],Z()),t)}isLeadingPositionDefined(e){return!(U(e)?this.computeEdgeValueForRow(this.style_.position,s.Start,V[e],K()):this.computeEdgeValueForColumn(this.style_.position,V[e],K())).isUndefined()}isTrailingPosDefined(e){return!(U(e)?this.computeEdgeValueForRow(this.style_.position,s.End,G[e],K()):this.computeEdgeValueForColumn(this.style_.position,G[e],K())).isUndefined()}getTrailingPosition(e,t){return B(U(e)?this.computeEdgeValueForRow(this.style_.position,s.End,G[e],Z()):this.computeEdgeValueForColumn(this.style_.position,G[e],Z()),t)}getLeadingMargin(e,t){return N(U(e)?this.computeEdgeValueForRow(this.style_.margin,s.Start,V[e],Z()):this.computeEdgeValueForColumn(this.style_.margin,V[e],Z()),t)}getTrailingMargin(e,t){return N(U(e)?this.computeEdgeValueForRow(this.style_.margin,s.End,G[e],Z()):this.computeEdgeValueForColumn(this.style_.margin,G[e],Z()),t)}getLeadingBorder(e){return E((U(e)?this.computeEdgeValueForRow(this.style_.border,s.Start,V[e],Z()):this.computeEdgeValueForColumn(this.style_.border,V[e],Z())).value,0)}getTrailingBorder(e){return E((U(e)?this.computeEdgeValueForRow(this.style_.border,s.End,G[e],Z()):this.computeEdgeValueForColumn(this.style_.border,G[e],Z())).value,0)}getLeadingPadding(e,t){return M(B(U(e)?this.computeEdgeValueForRow(this.style_.padding,s.Start,V[e],Z()):this.computeEdgeValueForColumn(this.style_.padding,V[e],Z()),t),new D(0))}getTrailingPadding(e,t){return M(B(U(e)?this.computeEdgeValueForRow(this.style_.padding,s.End,G[e],Z()):this.computeEdgeValueForColumn(this.style_.padding,G[e],Z()),t),new D(0))}getLeadingPaddingAndBorder(e,t){return this.getLeadingPadding(e,t).add(new D(this.getLeadingBorder(e)))}getTrailingPaddingAndBorder(e,t){return this.getTrailingPadding(e,t).add(new D(this.getTrailingBorder(e)))}getMarginForAxis(e,t){return this.getLeadingMargin(e,t).add(this.getTrailingMargin(e,t))}setContext(e){this.context_=e}setPrintFunc(e){this.print_=e}setHasNewLayout(e){this.hasNewLayout_=e}setNodeType(e){this.nodeType_=e}setMeasureFunc(e){null==e?this.setNodeType(y.Default):(0!=this.children_.length&&console.error("Cannot set measure function: Nodes with measure functions cannot have children."),this.setNodeType(y.Text)),this.measure_=e}setBaseLineFunc(e){this.baseline_=e}setDirtiedFunc(e){this.dirtied_=e}setStyle(e){this.style_=e}setStyleFlexDirection(e){this.style_.flexDirection=e}setStyleAlignContent(e){this.style_.alignContent=e}setLayout(e){this.layout_=e}setLineIndex(e){this.lineIndex_=e}setIsReferenceBaseline(e){this.isReferenceBaseline_=e}setOwner(e){this.owner_=e}setChildren(e){this.children_=e}setConfig(e){this.config_=e}setDirty(e){e!=this.isDirty_&&(this.isDirty_=e,e&&this.dirtied_&&this.dirtied_(this))}setLayoutLastOwnerDirection(e){this.layout_.lastOwnerDirection=e}setLayoutComputedFlexBasis(e){this.layout_.computedFlexBasis=e}setLayoutComputedFlexBasisGeneration(e){this.layout_.computedFlexBasisGeneration=e}setLayoutMeasuredDimension(e,t){this.layout_.measuredDimensions[t]=e}setLayoutHadOverflow(e){this.layout_.hadOverflow=e}setLayoutDimension(e,t){this.layout_.dimensions[t]=e}setLayoutDirection(e){this.layout_.direction=e}setLayoutMargin(e,t){this.layout_.margin[t]=e}setLayoutBorder(e,t){this.layout_.border[t]=e}setLayoutPadding(e,t){this.layout_.padding[t]=e}setLayoutPosition(e,t){this.layout_.position[t]=e}setPosition(e,t,n,s){const o=null!=this.owner_?e:i.LTR,a=I(this.style_.flexDirection,o),r=T(a,o),l=this.relativePosition(a,t),u=this.relativePosition(r,n);this.setLayoutPosition(this.getLeadingMargin(a,s).add(l).unwrap(),V[a]),this.setLayoutPosition(this.getTrailingMargin(a,s).add(l).unwrap(),G[a]),this.setLayoutPosition(this.getLeadingMargin(r,s).add(u).unwrap(),V[r]),this.setLayoutPosition(this.getTrailingMargin(r,s).add(u).unwrap(),G[r])}setLayoutDoesLegacyFlagAffectsLayout(e){this.layout_.doesLegacyStretchFlagAffectsLayout=e}setLayoutDidUseLegacyFlag(e){this.layout_.didUseLegacyFlag=e}markDirtyAndPropogateDownwards(){this.isDirty_=!0;for(let e=0;e<this.children_.length;e++)this.children_[e].markDirtyAndPropogateDownwards()}marginLeadingValue(e){return U(e)&&this.style_.margin[s.Start].unit!=w.Undefined?this.style_.margin[s.Start]:this.style_.margin[V[e]]}marginTrailingValue(e){return U(e)&&this.style_.margin[s.End].unit!=w.Undefined?this.style_.margin[s.End]:this.style_.margin[G[e]]}resolveFlexBasisPtr(){const e=this.style_.flexBasis;return e.unit!=w.Auto&&e.unit!=w.Undefined?e:!this.style_.flex.isUndefined()&&this.style_.flex.getValue()>0?this.config_.useWebDefaults?Q():Z():Q()}resolveDimension(){const e=this.getStyle();for(const i of[t.Width,t.Height])!e.maxDimensions[i].isUndefined()&&_(e.maxDimensions[i],e.minDimensions[i])?this.resolvedDimensions_[i]=e.maxDimensions[i]:this.resolvedDimensions_[i]=e.dimensions[i]}resolveDirection(e){return this.style_.direction==i.Inherit?e>i.Inherit?e:i.LTR:this.style_.direction}clearChildren(){for(;this.children_.length>0;)this.children_.pop()}replaceChild(e,t){const i=this.children_.indexOf(e);i>=0&&(this.children_[i]=t)}replaceChildIndex(e,t){this.children_[t]=e}insertChildIndex(e,t){this.children_.splice(t,0,e)}removeChild(e){const t=this.children_.indexOf(e);return t>=0&&(this.children_.splice(t,1),!0)}removeChildIndex(e){this.children_.splice(e,1)}iterChildrenAfterCloningIfNeeded(e,t){let i=0;for(let n of this.children_)n.getOwner()!=this&&(n=this.config_.cloneNode(n,this,i,t),n.setOwner(this)),i+=1,e(n,t)}cloneChildrenIfNeeded(e){this.iterChildrenAfterCloningIfNeeded(((e,t)=>{}),e)}markDirtyAndPropogate(){this.isDirty_||(this.setDirty(!0),this.setLayoutComputedFlexBasis(new D),this.owner_&&this.owner_.markDirtyAndPropogate())}resolveFlexGrow(){return null==this.owner_?0:this.style_.flexGrow.isUndefined()?!this.style_.flex.isUndefined()&&this.style_.flex.unwrap()>0?this.style_.flex.unwrap():0:this.style_.flexGrow.unwrap()}resolveFlexShrink(){return null==this.owner_?0:this.style_.flexShrink.isUndefined()?!this.config_.useWebDefaults&&!this.style_.flex.isUndefined()&&this.style_.flex.getValue()<0?-this.style_.flex.getValue():this.config_.useWebDefaults?1:0:this.style_.flexShrink.getValue()}isNodeFlexible(){return this.style_.positionType!=p.Absolute&&(0!=this.resolveFlexGrow()||0!=this.resolveFlexShrink())}didUseLegacyFlag(){let e=this.layout_.didUseLegacyFlag;if(e)return!0;for(let t=0;t<this.children_.length;t++)if(this.children_[t].getLayout().didUseLegacyFlag){e=!0;break}return e}isLayoutTreeEqualToNode(e){if(this.children_.length!=e.getChildren().length)return!1;if(this.layout_.diff(e.getLayout()))return!1;if(0==this.children_.length)return!0;let t=!0;for(let i=0;i<this.children_.length;++i){const n=e.getChild(i);if(t=this.children_[i].isLayoutTreeEqualToNode(n),!t)return!1}return t}reset(){mt(this,0==this.children_.length,"Cannot reset a node which still has children attached"),mt(this,null==this.owner_,"Cannot reset a node still attached to a owner"),this.clearChildren();const e=this.getConfig(),t=e.useWebDefaults;this.initialize(),this.setConfig(e),t&&this.useWebDefaults()}}function ae(e,t,i,n,s,...o){const a=null!=e?e:Le();a.log(a,t,i,n,s,...o)}class re{static log(e,t,i,n,...s){if(e instanceof oe){const o=e;ae(null==o?null:o.getConfig(),o,t,i,n,s)}else e instanceof F&&ae(e,null,t,i,n,s)}}var le,ue,de;!function(e){e[e.kLayout=0]="kLayout",e[e.kMeasure=1]="kMeasure",e[e.kCachedLayout=2]="kCachedLayout",e[e.kCachedMeasure=3]="kCachedMeasure"}(le||(le={})),function(e){e[e.kInitial=0]="kInitial",e[e.kAbsLayout=1]="kAbsLayout",e[e.kStretch=2]="kStretch",e[e.kMultilineStretch=3]="kMultilineStretch",e[e.kFlexLayout=4]="kFlexLayout",e[e.kMeasureChild=5]="kMeasureChild",e[e.kAbsMeasureChild=6]="kAbsMeasureChild",e[e.kFlexMeasure=7]="kFlexMeasure"}(ue||(ue={}));class he{constructor(e=0,t=0,i=0,n=0,s=0,o=0,a=[0,0,0,0,0,0,0,0]){this.layouts=e,this.measures=t,this.maxMeasureCache=i,this.cachedLayouts=n,this.cachedMeasures=s,this.measureCallbacks=o,this.measureCallbackReasonsCount=a}}!function(e){e[e.NodeAllocation=0]="NodeAllocation",e[e.NodeDeallocation=1]="NodeDeallocation",e[e.NodeLayout=2]="NodeLayout",e[e.LayoutPassStart=3]="LayoutPassStart",e[e.LayoutPassEnd=4]="LayoutPassEnd",e[e.MeasureCallbackStart=5]="MeasureCallbackStart",e[e.MeasureCallbackEnd=6]="MeasureCallbackEnd",e[e.NodeBaselineStart=7]="NodeBaselineStart",e[e.NodeBaselineEnd=8]="NodeBaselineEnd"}(de||(de={}));class ce{static reset(){ge.splice(0,ge.length)}static subscribe(e){!function(e){let t=null;ge.length>0&&ge[ge.length-1],ge.push(e)}(e)}static publish(e,t,i){for(const n of ge)n(e,t,i)}}const ge=[];function fe(e,t){let i=e;for(const e of t[0][0])i=i.replace(/%[d|s|f]/,e);return i}function ye(e,t,i,n,...s){switch(i){case u.Error:case u.Fatal:return console.error(fe(n,s));case u.Warn:case u.Info:case u.Debug:case u.Verbose:default:return console.log(fe(n,s))}}function me(e){return!(void 0!==e&&!isNaN(e))}function pe(e,t){e.setMeasureFunc(t)}function Le(){return Fe()}function we(e){const t=(n=e.getConfig(),new F(n.logger)),i=new oe(e);var n;i.setConfig(t),i.setOwner(null),ce.publish(i,de.NodeAllocation,{config:i.getConfig()});const s=[];let o=null;for(const t of e.getChildren())o=we(t),o.setOwner(i),s.push(o);return i.setChildren(s),i}function xe(e){const t=e.getOwner();null!=t&&(t.removeChild(e),e.setOwner(null));const i=Ce(e);for(let t=0;t<i;t++)_e(e,t).setOwner(null);e.clearChildren(),ce.publish(e,de.NodeDeallocation,{config:e.getConfig()})}function Se(e){null!=e.getConfig()&&e.setConfig(null);for(const t of e.getChildren())Se(t)}function De(e){return function(e,t){let i=0;for(;Ce(e)>i;){const t=_e(e,i);t.getOwner()!=e?i+=1:(ve(e,t),De(t))}xe(e)}(e)}function Fe(){return new F(ye)}function ve(e,t){if(0==Ce(e))return;const i=t.getOwner();e.removeChild(t)&&(e==i&&(t.setLayout(new j),t.setOwner(null)),e.markDirtyAndPropogate())}function _e(e,t){const i=e.getChildren();return t<i.length?i[t]:null}function Ce(e){return e.getChildrenCount()}function Ee(e,t,i,n){i(e.getStyle(),t)&&(n(e.getStyle(),t),e.markDirtyAndPropogate())}function Me(e,t,i){Ee(e,i,((e,i)=>e[t]!=i),((e,i)=>e[t]=i))}function Ae(e,t,i,n){Ee(e,n,((e,n)=>e[t][i]!=n),((e,n)=>e[t][i]=n))}function Re(e){return e.getLayout().position[s.Left]}function Pe(e){return e.getLayout().position[s.Top]}function be(e){return e.getLayout().position[s.Right]}function Te(e){return e.getLayout().position[s.Bottom]}function Ue(e){return e.getLayout().dimensions[t.Width]}function Be(e){return e.getLayout().dimensions[t.Height]}let We=0;function Ie(e,t,i){return e.getLeadingPaddingAndBorder(t,i).add(e.getTrailingPaddingAndBorder(t,i)).unwrap()}function Ne(t,i){const n=i.getStyle().alignSelf==e.Auto?t.getStyle().alignItems:i.getStyle().alignSelf;return n==e.Baseline&&W(t.getStyle().flexDirection)?e.FlexStart:n}function Oe(i,n){if(i.hasBaselineFunc()){ce.publish(i,de.NodeBaselineStart);const e=i.baseline(i.getLayout().measuredDimensions[t.Width],i.getLayout().measuredDimensions[t.Height],n);return ce.publish(i,de.NodeBaselineEnd),mt(i,!me(e),"Expect custom baseline function to not return NaN"),e}let o=null;const a=Ce(i);for(let t=0;t<a;t++){const n=_e(i,t);if(n.getLineIndex()>0)break;if(n.getStyle().positionType!=p.Absolute){if(Ne(i,n)==e.Baseline||n.isReferenceBaseline()){o=n;break}null==o&&(o=n)}}return null==o?i.getLayout().measuredDimensions[t.Height]:Oe(o,n)+o.getLayout().position[s.Top]}function ke(t){if(W(t.getStyle().flexDirection))return!1;if(t.getStyle().alignItems==e.Baseline)return!0;const i=Ce(t);for(let n=0;n<i;n++){const i=_e(t,n);if(i.getStyle().positionType!=p.Absolute&&i.getStyle().alignSelf==e.Baseline)return!0}return!1}function He(e,t,i){return e.getLayout().measuredDimensions[q[t]]+e.getLeadingMargin(t,i).add(e.getTrailingMargin(t,i)).unwrap()}function Ve(e,t,i){const n=me(e.getResolvedDimension(q[t]).value);return!(e.getResolvedDimension(q[t]).unit==w.Auto||e.getResolvedDimension(q[t]).unit==w.Undefined||e.getResolvedDimension(q[t]).unit==w.Point&&!n&&e.getResolvedDimension(q[t]).value<0||e.getResolvedDimension(q[t]).unit==w.Percent&&!n&&(e.getResolvedDimension(q[t]).value<0||me(i)))}function Ge(e,t){const i=e.getLayout().measuredDimensions[q[t]];return!me(i)&&i>=0}function Ye(e,i,n,s){let o,a;return W(i)?(o=B(e.getStyle().minDimensions[t.Height],s),a=B(e.getStyle().maxDimensions[t.Height],s)):U(i)&&(o=B(e.getStyle().minDimensions[t.Width],s),a=B(e.getStyle().maxDimensions[t.Width],s)),a.isBiggerEqual(new D(0))&&n.isBigger(a)?a:o.isBiggerEqual(new D(0))&&n.isSmaller(o)?o:n}function qe(e,t,i,n,s){return E(Ye(e,t,new D(i),n).unwrap(),Ie(e,t,s))}function ze(e,t,i){const n=t.getLayout().measuredDimensions[q[i]];t.setLayoutPosition(e.getLayout().measuredDimensions[q[i]]-n-t.getLayout().position[Y[i]],G[i])}function Xe(e,t,i,n,s,o){const a=B(e.getStyle().maxDimensions[q[t]],i).add(e.getMarginForAxis(t,n));switch(s.value){case f.Exactly:case f.AtMost:o.value=a.isUndefined()||o.value<a.getValue()?o.value:a.getValue();break;case f.Undefined:a.isUndefined()||(s.value=f.AtMost,o.value=a.getValue())}}function je(i,n,s,o,l,u,d,h,c,g,y,p,L,w){const x=I(i.getStyle().flexDirection,c),S=U(x),F=S?s:l,v=S?u:d;let _,C,A,R;const P=B(n.resolveFlexBasisPtr(),v),b=Ve(n,r.Row,u),T=Ve(n,r.Column,d);if(P.isUndefined()||me(F))if(S&&b){const e=new D(Ie(n,r.Row,u));n.setLayoutComputedFlexBasis(M(B(n.getResolvedDimensions()[t.Width],u),e))}else if(!S&&T){const e=new D(Ie(n,r.Column,u));n.setLayoutComputedFlexBasis(M(B(n.getResolvedDimensions()[t.Height],d),e))}else{_=J,C=J,A=f.Undefined,R=f.Undefined;const a=n.getMarginForAxis(r.Row,u).unwrap(),F=n.getMarginForAxis(r.Column,u).unwrap();b&&(_=B(n.getResolvedDimensions()[t.Width],u).unwrap()+a,A=f.Exactly),T&&(C=B(n.getResolvedDimensions()[t.Height],d).unwrap()+F,R=f.Exactly),(!S&&i.getStyle().overflow==m.Scroll||i.getStyle().overflow!=m.Scroll)&&me(_)&&!me(s)&&(_=s,A=f.AtMost),(S&&i.getStyle().overflow==m.Scroll||i.getStyle().overflow!=m.Scroll)&&me(C)&&!me(l)&&(C=l,R=f.AtMost);const v=n.getStyle();v.aspectRatio.isUndefined()||(S||A!=f.Exactly?S&&R==f.Exactly&&(_=a+(C-F)*v.aspectRatio.unwrap(),A=f.Exactly):(C=F+(_-a)/v.aspectRatio.unwrap(),R=f.Exactly));const M=!me(s)&&o==f.Exactly,P=Ne(i,n)==e.Stretch&&A!=f.Exactly;!S&&!b&&M&&P&&(_=s,A=f.Exactly,v.aspectRatio.isUndefined()||(C=(_-a)/v.aspectRatio.unwrap(),R=f.Exactly));const U=!me(l)&&h==f.Exactly,W=Ne(i,n)==e.Stretch&&R!=f.Exactly;S&&!T&&U&&W&&(C=l,R=f.Exactly,v.aspectRatio.isUndefined()||(_=(C-F)*v.aspectRatio.unwrap(),A=f.Exactly));const I={value:A},N={value:_},O={value:R},k={value:C};Xe(n,r.Row,u,u,I,N),Xe(n,r.Column,d,u,O,k),ht(n,_,C,c,A,R,u,d,!1,ue.kMeasureChild,g,y,p,L,w),n.setLayoutComputedFlexBasis(new D(E(n.getLayout().measuredDimensions[q[x]],Ie(n,x,u))))}else if(n.getLayout().computedFlexBasis.isUndefined()||pt(n.getConfig(),a.WebFlexBasis)&&n.getLayout().computedFlexBasisGeneration!=w){const e=new D(Ie(n,x,u));n.setLayoutComputedFlexBasis(M(P,e))}n.setLayoutComputedFlexBasisGeneration(w)}function Je(i,n,s,o,a,u,d,h,c,g,y){const m=I(i.getStyle().flexDirection,u),p=T(m,u),L=U(m);let w=J,x=J,D=f.Undefined,F=f.Undefined;const v=n.getMarginForAxis(r.Row,s).unwrap(),_=n.getMarginForAxis(r.Column,s).unwrap();Ve(n,r.Row,s)?w=B(n.getResolvedDimensions()[t.Width],s).unwrap()+v:n.isLeadingPositionDefined(r.Row)&&n.isTrailingPosDefined(r.Row)&&(w=i.getLayout().measuredDimensions[t.Width]-(i.getLeadingBorder(r.Row)+i.getTrailingBorder(r.Row))-n.getLeadingPosition(r.Row,s).add(n.getTrailingPosition(r.Row,s)).unwrap(),w=qe(n,r.Row,w,s,s)),Ve(n,r.Column,a)?x=B(n.getResolvedDimensions()[t.Height],a).unwrap()+_:n.isLeadingPositionDefined(r.Column)&&n.isTrailingPosDefined(r.Column)&&(x=i.getLayout().measuredDimensions[t.Height]-(i.getLeadingBorder(r.Column)+i.getTrailingBorder(r.Column))-n.getLeadingPosition(r.Column,a).add(n.getTrailingPosition(r.Column,a)).unwrap(),x=qe(n,r.Column,x,a,s));const C=n.getStyle();me(w)!=me(x)&&(C.aspectRatio.isUndefined()||(me(w)?w=v+(x-_)*C.aspectRatio.unwrap():me(x)&&(x=_+(w-v)/C.aspectRatio.unwrap()))),(me(w)||me(x))&&(D=me(w)?f.Undefined:f.Exactly,F=me(x)?f.Undefined:f.Exactly,!L&&me(w)&&o!=f.Undefined&&!me(s)&&s>0&&(w=s,D=f.AtMost),ht(n,w,x,u,D,F,w,x,!1,ue.kAbsMeasureChild,d,h,c,g,y),w=n.getLayout().measuredDimensions[t.Width]+n.getMarginForAxis(r.Row,s).unwrap(),x=n.getLayout().measuredDimensions[t.Height]+n.getMarginForAxis(r.Column,s).unwrap()),ht(n,w,x,u,f.Exactly,f.Exactly,w,x,!0,ue.kAbsLayout,d,h,c,g,y),n.isTrailingPosDefined(m)&&!n.isLeadingPositionDefined(m)?n.setLayoutPosition(i.getLayout().measuredDimensions[q[m]]-n.getLayout().measuredDimensions[q[m]]-i.getTrailingBorder(m)-n.getTrailingMargin(m,s).unwrap()-n.getTrailingPosition(m,L?s:a).unwrap(),V[m]):n.isLeadingPositionDefined(m)||i.getStyle().justifyContent!=l.Center?n.isLeadingPositionDefined(m)||i.getStyle().justifyContent!=l.FlexEnd||n.setLayoutPosition(i.getLayout().measuredDimensions[q[m]]-n.getLayout().measuredDimensions[q[m]],V[m]):n.setLayoutPosition((i.getLayout().measuredDimensions[q[m]]-n.getLayout().measuredDimensions[q[m]])/2,V[m]),n.isTrailingPosDefined(p)&&!n.isLeadingPositionDefined(p)?n.setLayoutPosition(i.getLayout().measuredDimensions[q[p]]-n.getLayout().measuredDimensions[q[p]]-i.getTrailingBorder(p)-n.getTrailingMargin(p,s).unwrap()-n.getTrailingPosition(p,L?a:s).unwrap(),V[p]):n.isLeadingPositionDefined(p)||Ne(i,n)!=e.Center?n.isLeadingPositionDefined(p)||Ne(i,n)==e.FlexEnd==(i.getStyle().flexWrap==S.WrapReverse)||n.setLayoutPosition(i.getLayout().measuredDimensions[q[p]]-n.getLayout().measuredDimensions[q[p]],V[p]):n.setLayoutPosition((i.getLayout().measuredDimensions[q[p]]-n.getLayout().measuredDimensions[q[p]])/2,V[p])}function Ze(e,t){e.getLayout().clean(),e.setLayoutDimension(0,0),e.setLayoutDimension(0,1),e.setHasNewLayout(!0),e.iterChildrenAfterCloningIfNeeded(Ze,t)}function Ke(e,t,i,n,s){let o=i-n;if(!me(o)){const i=B(e.getStyle().minDimensions[t],s),a=i.isUndefined()?0:i.unwrap()-n,r=B(e.getStyle().maxDimensions[t],s);o=E(A(o,r.isUndefined()?Number.MAX_VALUE:r.unwrap()-n),a)}return o}function Qe(e,t,i,s,o,a,r){const l=new v;let u=0;const d=I(e.getStyle().flexDirection,e.resolveDirection(t)),h=e.getStyle().flexWrap!=S.NoWrap;let c=a;for(;c<e.getChildren().length;c++){const t=e.getChild(c);if(t.getStyle().display==n.None||t.getStyle().positionType==p.Absolute)continue;t.setLineIndex(r);const a=t.getMarginForAxis(d,s).unwrap(),g=Ye(t,d,t.getLayout().computedFlexBasis,i).unwrap();if(u+g+a>o&&h&&l.itemsOnLine>0)break;u+=g+a,l.sizeConsumedOnCurrentLine+=g+a,l.itemsOnLine++,t.isNodeFlexible()&&(l.totalFlexGrowFactors+=t.resolveFlexGrow(),l.totalFlexShrinkScaledFactors+=-t.resolveFlexShrink()*t.getLayout().computedFlexBasis.unwrap()),l.relativeChildren.push(t)}return l.totalFlexGrowFactors>0&&l.totalFlexGrowFactors<1&&(l.totalFlexGrowFactors=1),l.totalFlexShrinkScaledFactors>0&&l.totalFlexShrinkScaledFactors<1&&(l.totalFlexShrinkScaledFactors=1),l.endOfLineIndex=c,l}function $e(t,i,n,s,o,a,r,l,u,d,h,c,g,y,m,p,L){const x=i.remainingFreeSpace;!function(e,t,i,n,s){let o=0,a=0,r=0,l=0,u=0;for(const d of e.relativeChildren){const h=Ye(d,t,d.getLayout().computedFlexBasis,i).unwrap();e.remainingFreeSpace<0?(o=-d.resolveFlexShrink()*h,me(o)||0==o||(r=h+e.remainingFreeSpace/e.totalFlexShrinkScaledFactors*o,l=qe(d,t,r,n,s),me(r)||me(l)||r==l||(u+=l-h,e.totalFlexShrinkScaledFactors-=-d.resolveFlexShrink()*d.getLayout().computedFlexBasis.unwrap()))):!me(e.remainingFreeSpace)&&e.remainingFreeSpace>0&&(a=d.resolveFlexGrow(),me(a)||0==a||(r=h+e.remainingFreeSpace/e.totalFlexGrowFactors*a,l=qe(d,t,r,n,s),me(r)||me(l)||r==l||(u+=l-h,e.totalFlexGrowFactors-=a)))}e.remainingFreeSpace-=u}(i,n,o,a,l);const D=function(t,i,n,s,o,a,r,l,u,d,h,c,g,y,m,p,L){let x=0,D=0,F=0,v=0;const _=U(n),C=i.getStyle().flexWrap!=S.NoWrap;for(const S of t.relativeChildren){x=Ye(S,n,S.getLayout().computedFlexBasis,o).unwrap();let E=x;if(!me(t.remainingFreeSpace)&&t.remainingFreeSpace<0){if(D=-S.resolveFlexShrink()*x,0!=D){let e;e=me(t.totalFlexShrinkScaledFactors)||0!=t.totalFlexShrinkScaledFactors?x+t.remainingFreeSpace/t.totalFlexShrinkScaledFactors*D:x+D,E=qe(S,n,e,a,l)}}else!me(t.remainingFreeSpace)&&t.remainingFreeSpace>0&&(F=S.resolveFlexGrow(),me(F)||0==F||(E=qe(S,n,x+t.remainingFreeSpace/t.totalFlexGrowFactors*F,a,l)));v+=E-x;const M=S.getMarginForAxis(n,l).unwrap(),A=S.getMarginForAxis(s,l).unwrap();let R;const P=E+M;let b;const T=f.Exactly,U=S.getStyle();if(U.aspectRatio.isUndefined())if(me(r)||Ve(S,s,r)||h!=f.Exactly||C&&d||Ne(i,S)!=e.Stretch||S.marginLeadingValue(s).unit==w.Auto||S.marginTrailingValue(s).unit==w.Auto)if(Ve(S,s,r)){R=B(S.getResolvedDimension(q[s]),r).unwrap()+A;const e=S.getResolvedDimension(q[s]).unit==w.Percent&&h!=f.Exactly;b=me(R)||e?f.Undefined:f.Exactly}else R=r,b=me(R)?f.Undefined:f.AtMost;else R=r,b=f.Exactly;else R=_?(P-M)/U.aspectRatio.unwrap():(P-M)*U.aspectRatio.unwrap(),b=f.Exactly,R+=A;const W={value:b},I={value:R};Xe(S,n,a,l,{value:T},{value:P}),Xe(S,s,r,l,W,I);const N=!Ve(S,s,r)&&Ne(i,S)==e.Stretch&&S.marginLeadingValue(s).unit!=w.Auto&&S.marginTrailingValue(s).unit!=w.Auto,O=_?T:b,k=_?b:T,H=c&&!N;ht(S,_?P:R,_?R:P,i.getLayout().direction,O,k,l,u,H,H?ue.kFlexLayout:ue.kFlexMeasure,g,y,m,p,L),i.setLayoutHadOverflow(i.getLayout().hadOverflow||S.getLayout().hadOverflow)}return v}(i,t,n,s,o,a,r,l,u,d,h,c,g,y,m,p,L);i.remainingFreeSpace=x-D}function et(e,i,s,o,a,u,d,h,c,g,y,m,L,x){const S=e.getStyle(),D=e.getLeadingPaddingAndBorder(o,c).unwrap(),F=e.getTrailingPaddingAndBorder(o,c).unwrap();if(u==f.AtMost&&i.remainingFreeSpace>0)if(S.minDimensions[q[o]].isUndefined()||B(S.minDimensions[q[o]],h).isUndefined())i.remainingFreeSpace=0;else{const e=B(S.minDimensions[q[o]],h).unwrap()-D-F,t=g-i.remainingFreeSpace;i.remainingFreeSpace=E(0,e-t)}let v=0;for(let t=s;t<i.endOfLineIndex;t++){const i=e.getChild(t);i.getStyle().positionType!=p.Absolute&&(i.marginLeadingValue(o).unit==w.Auto&&v++,i.marginTrailingValue(o).unit==w.Auto&&v++)}let _=0,C=0;const M=e.getStyle().justifyContent;if(0==v)switch(M){case l.Center:_=i.remainingFreeSpace/2;break;case l.FlexEnd:_=i.remainingFreeSpace;break;case l.SpaceBetween:C=i.itemsOnLine>1?E(i.remainingFreeSpace,0)/(i.itemsOnLine-1):0;break;case l.SpaceEvenly:C=i.remainingFreeSpace/(i.itemsOnLine+1),_=C;break;case l.SpaceAround:C=i.remainingFreeSpace/i.itemsOnLine,_=C/2;case l.FlexStart:}i.mainDim=D+_,i.crossDim=0;let A=0,R=0;const P=ke(e);for(let l=s;l<i.endOfLineIndex;l++){const s=e.getChild(l),u=s.getStyle(),h=s.getLayout();if(u.display!=n.None)if(u.positionType==p.Absolute&&s.isLeadingPositionDefined(o))L&&s.setLayoutPosition(s.getLeadingPosition(o,g).unwrap()+e.getLeadingBorder(o)+s.getLeadingMargin(o,m).unwrap(),Y[o]);else if(u.positionType!=p.Absolute)if(s.marginLeadingValue(o).unit==w.Auto&&(i.mainDim+=i.remainingFreeSpace/v),L&&s.setLayoutPosition(h.position[Y[o]]+i.mainDim,Y[o]),s.marginTrailingValue(o).unit==w.Auto&&(i.mainDim+=i.remainingFreeSpace/v),L||d!=f.Exactly)if(i.mainDim+=C+He(s,o,m),P){const e=Oe(s,x)+s.getLeadingMargin(r.Column,m).unwrap(),i=s.getLayout().measuredDimensions[t.Height]+s.getMarginForAxis(r.Column,m).unwrap()-e;A=E(A,e),R=E(R,i)}else i.crossDim=E(i.crossDim,He(s,a,m));else i.mainDim+=C+s.getMarginForAxis(o,m).unwrap()+h.computedFlexBasis.unwrap(),i.crossDim=y;else L&&s.setLayoutPosition(h.position[Y[o]]+e.getLeadingBorder(o)+_,Y[o])}i.mainDim+=F,P&&(i.crossDim=A+R)}const tt=!1,it=!1,nt="                                                            ";function st(e){const t=nt.length;return e>t?nt:nt.substr(t-e)}function ot(e,t){return e>=g?"":t?["LAY_UNDEFINED","LAY_EXACTLY","LAY_AT_","MOST"][e]:["UNDEFINED","EXACTLY","AT_MOST"][e]}function at(e,t,i){return e==f.Exactly&&C(t,i)}function rt(e,t,i,n){return e==f.AtMost&&i==f.Undefined&&(t>=n||C(t,n))}function lt(e,t,i,n,s){return i==f.AtMost&&e==f.AtMost&&!me(n)&&!me(t)&&!me(s)&&n>t&&(s<=t||C(t,s))}function ut(e,t,i,n){let s=e*t;const o=s%1;return C(o,0)?s-=o:C(o,1)||i?s=s-o+1:n?s-=o:s=s-o+(!me(o)&&(o>.5||C(o,.5))?1:0),me(s)||me(t)?J:s/t}function dt(e,t,i,n,s,o,a,r,l,u,d,h,c){if(!me(u)&&u<0||!me(l)&&l<0)return!1;const g=null!=c&&0!=c.pointScaleFactor,f=g?ut(t,c.pointScaleFactor,!1,!1):t,y=g?ut(n,c.pointScaleFactor,!1,!1):n,m=g?ut(o,c.pointScaleFactor,!1,!1):o,p=g?ut(r,c.pointScaleFactor,!1,!1):r,L=s==e&&C(m,f),w=a==i&&C(p,y),x=L||at(e,t-d,l)||rt(e,t-d,s,l)||lt(e,t-d,s,o,l),S=w||at(i,n-h,u)||rt(i,n-h,a,u)||lt(i,n-h,a,r,u);return x&&S}function ht(o,a,l,d,h,c,g,y,L,x,F,v,_,M,R){const P=o.getLayout();M++;const b=o.isDirty()&&P.generationCount!=R||P.lastOwnerDirection!=d;b&&(P.nextCachedMeasurementsIndex=0,P.cachedLayout.availableWidth=-1,P.cachedLayout.availableHeight=-1,P.cachedLayout.widthMeasureMode=f.Undefined,P.cachedLayout.heightMeasureMode=f.Undefined,P.cachedLayout.computedWidth=-1,P.cachedLayout.computedHeight=-1);let W,N=null;if(o.hasMeasureFunc()){const e=o.getMarginForAxis(r.Row,g).unwrap(),t=o.getMarginForAxis(r.Column,g).unwrap();if(dt(h,a,c,l,P.cachedLayout.widthMeasureMode,P.cachedLayout.availableWidth,P.cachedLayout.heightMeasureMode,P.cachedLayout.availableHeight,P.cachedLayout.computedWidth,P.cachedLayout.computedHeight,e,t,F))N=P.cachedLayout;else for(let i=0;i<P.nextCachedMeasurementsIndex;i++)if(dt(h,a,c,l,P.cachedMeasurements[i].widthMeasureMode,P.cachedMeasurements[i].availableWidth,P.cachedMeasurements[i].heightMeasureMode,P.cachedMeasurements[i].availableHeight,P.cachedMeasurements[i].computedWidth,P.cachedMeasurements[i].computedHeight,e,t,F)){N=P.cachedMeasurements[i];break}}else if(L)C(P.cachedLayout.availableWidth,a)&&C(P.cachedLayout.availableHeight,l)&&P.cachedLayout.widthMeasureMode==h&&P.cachedLayout.heightMeasureMode==c&&(N=P.cachedLayout);else for(let e=0;e<P.nextCachedMeasurementsIndex;e++)if(C(P.cachedMeasurements[e].availableWidth,a)&&C(P.cachedMeasurements[e].availableHeight,l)&&P.cachedMeasurements[e].widthMeasureMode==h&&P.cachedMeasurements[e].heightMeasureMode==c){N=P.cachedMeasurements[e];break}if(b||null==N){if(tt&&(re.log(o,u.Verbose,null,"%s%d.{%s",st(M),M,b?"*":""),o.print(_),re.log(o,u.Verbose,null,"wm: %s, hm: %s, aw: %f ah: %f %s\n",ot(h,L),ot(c,L),a,l,x)),function(o,a,l,u,d,h,c,g,y,L,x,F,v,_,M){mt(o,!me(a)||d==f.Undefined,"availableWidth is indefinite so widthMeasureMode must be YGMeasureMode.Undefined"),mt(o,!me(l)||h==f.Undefined,"availableHeight is indefinite so heightMeasureMode must be YGMeasureMode.Undefined"),y?x.layouts+=1:x.measures+=1;const R=o.resolveDirection(u);o.setLayoutDirection(R);const P=I(r.Row,R),b=I(r.Column,R),W=R==i.LTR?s.Left:s.Right,N=R==i.LTR?s.Right:s.Left,O=o.getLeadingMargin(P,c).unwrap();o.setLayoutMargin(O,W);const k=o.getTrailingMargin(P,c).unwrap();o.setLayoutMargin(k,N);const H=o.getLeadingMargin(b,c).unwrap();o.setLayoutMargin(H,s.Top);const V=o.getTrailingMargin(b,c).unwrap();o.setLayoutMargin(V,s.Bottom);const G=O+k,z=H+V;if(o.setLayoutBorder(o.getLeadingBorder(P),W),o.setLayoutBorder(o.getTrailingBorder(P),N),o.setLayoutBorder(o.getLeadingBorder(b),s.Top),o.setLayoutBorder(o.getTrailingBorder(b),s.Bottom),o.setLayoutPadding(o.getLeadingPadding(P,c).unwrap(),W),o.setLayoutPadding(o.getTrailingPadding(P,c).unwrap(),N),o.setLayoutPadding(o.getLeadingPadding(b,c).unwrap(),s.Top),o.setLayoutPadding(o.getTrailingPadding(b,c).unwrap(),s.Bottom),o.hasMeasureFunc())return void function(e,i,n,o,a,l,u,d,h,c){mt(e,e.hasMeasureFunc(),"Expected node to have custom measure function"),o==f.Undefined&&(i=J),a==f.Undefined&&(n=J);const g=e.getLayout().padding,y=e.getLayout().border,m=g[s.Left]+g[s.Right]+y[s.Left]+y[s.Right],p=g[s.Top]+g[s.Bottom]+y[s.Top]+y[s.Bottom],L=me(i)?i:E(0,i-m),w=me(n)?n:E(0,n-p);if(o==f.Exactly&&a==f.Exactly)e.setLayoutMeasuredDimension(qe(e,r.Row,i,l,l),t.Width),e.setLayoutMeasuredDimension(qe(e,r.Column,n,u,l),t.Height);else{ce.publish(e,de.MeasureCallbackStart);const s=e.measure(L,o,w,a,h);d.measureCallbacks+=1,d.measureCallbackReasonsCount[c]+=1,ce.publish(e,de.MeasureCallbackEnd,{layoutContext:h,width:L,widthMeasureMode:o,height:w,heightMeasureMode:a,measuredWidth:s.width,measuredHeight:s.height,reason:c}),e.setLayoutMeasuredDimension(qe(e,r.Row,o==f.Undefined||o==f.AtMost?s.width+m:i,l,l),t.Width),e.setLayoutMeasuredDimension(qe(e,r.Column,a==f.Undefined||a==f.AtMost?s.height+p:n,u,l),t.Height)}}(o,a,l,d,h,c,g,x,F,M);const X=Ce(o);if(0==X)return void function(e,i,n,o,a,l,u){const d=e.getLayout().padding,h=e.getLayout().border;let c=i;o!=f.Undefined&&o!=f.AtMost||(c=d[s.Left]+d[s.Right]+h[s.Left]+h[s.Right]),e.setLayoutMeasuredDimension(qe(e,r.Row,c,l,l),t.Width);let g=n;a!=f.Undefined&&a!=f.AtMost||(g=d[s.Top]+d[s.Bottom]+h[s.Top]+h[s.Bottom]),e.setLayoutMeasuredDimension(qe(e,r.Column,g,u,l),t.Height)}(o,a-G,l-z,d,h,c,g);if(!y&&function(e,i,n,s,o,a,l){return(!me(i)&&s==f.AtMost&&i<=0||!me(n)&&o==f.AtMost&&n<=0||s==f.Exactly&&o==f.Exactly)&&(e.setLayoutMeasuredDimension(qe(e,r.Row,me(i)||s==f.AtMost&&i<0?0:i,a,a),t.Width),e.setLayoutMeasuredDimension(qe(e,r.Column,me(n)||o==f.AtMost&&n<0?0:n,l,a),t.Height),!0)}(o,a-G,l-z,d,h,c,g))return;o.cloneChildrenIfNeeded(F),o.setLayoutHadOverflow(!1);const j=I(o.getStyle().flexDirection,R),Z=T(j,R),K=U(j),Q=o.getStyle().flexWrap!=S.NoWrap,$=K?c:g,ee=K?g:c,te=Ie(o,j,c),ie=o.getLeadingPaddingAndBorder(Z,c).unwrap(),ne=ie+o.getTrailingPaddingAndBorder(Z,c).unwrap();let se=K?d:h;const oe=K?h:d,ae=K?te:ne,re=K?ne:te,le=Ke(o,t.Width,a-G,ae,c),he=Ke(o,t.Height,l-z,re,g);let ge=K?le:he;const fe=K?he:le,ye=function(e,t,i,s,o,a,r,l,u,d,h,c,g){let y=0,m=null;const L=e.getChildren();if((U(r)?s:o)==f.Exactly)for(const e of L)if(e.isNodeFlexible()){if(null!=m||C(e.resolveFlexGrow(),0)||C(e.resolveFlexShrink(),0)){m=null;break}m=e}for(const f of L)if(f.resolveDimension(),f.getStyle().display!=n.None){if(u){const e=f.resolveDirection(a),n=U(r)?t:i,s=U(r)?i:t;f.setPosition(e,n,s,t)}f.getStyle().positionType!=p.Absolute&&(f==m?(f.setLayoutComputedFlexBasisGeneration(g),f.setLayoutComputedFlexBasis(new D(0))):je(e,f,t,s,i,t,i,o,a,l,d,h,c,g),y+=f.getLayout().computedFlexBasis.unwrap()+f.getMarginForAxis(r,t).unwrap())}else Ze(f,h),f.setHasNewLayout(!0),f.setDirty(!1);return y}(o,le,he,d,h,R,j,L,y,x,F,v,_),pe=se!=f.Undefined&&ye>ge;Q&&pe&&se==f.AtMost&&(se=f.Exactly);let Le,we=0,xe=0,Se=0,De=0,Fe=0;for(;xe<X;Se++,we=xe){Le=Qe(o,u,$,le,ge,we,Se),xe=Le.endOfLineIndex;const i=!y&&oe==f.Exactly;let s=!1;if(se!=f.Exactly){const e=o.getStyle().minDimensions,i=o.getStyle().maxDimensions,n=B(e[t.Width],c).unwrap()-ae,a=B(i[t.Width],c).unwrap()-ae,r=B(e[t.Height],g).unwrap()-re,l=B(i[t.Height],g).unwrap()-re,u=K?n:r,d=K?a:l;!me(u)&&Le.sizeConsumedOnCurrentLine<u?ge=u:!me(d)&&Le.sizeConsumedOnCurrentLine>d?ge=d:(!o.getConfig().useLegacyStretchBehaviour&&(me(Le.totalFlexGrowFactors)&&0==Le.totalFlexGrowFactors||me(o.resolveFlexGrow())&&0==o.resolveFlexGrow())&&(ge=Le.sizeConsumedOnCurrentLine),o.getConfig().useLegacyStretchBehaviour&&o.setLayoutDidUseLegacyFlag(!0),s=!o.getConfig().useLegacyStretchBehaviour)}s||me(ge)?Le.sizeConsumedOnCurrentLine<0&&(Le.remainingFreeSpace=-Le.sizeConsumedOnCurrentLine):Le.remainingFreeSpace=ge-Le.sizeConsumedOnCurrentLine,i||$e(o,Le,j,Z,$,ge,fe,le,he,pe,oe,y,L,x,F,v,_),o.setLayoutHadOverflow(o.getLayout().hadOverflow||Le.remainingFreeSpace<0),et(o,Le,we,j,Z,se,oe,$,c,ge,fe,le,y,F);let a=fe;if(oe!=f.Undefined&&oe!=f.AtMost||(a=qe(o,Z,Le.crossDim+ne,ee,c)-ne),Q||oe!=f.Exactly||(Le.crossDim=fe),Le.crossDim=qe(o,Z,Le.crossDim+ne,ee,c)-ne,y)for(let t=we;t<xe;t++){const i=o.getChild(t);if(i.getStyle().display!=n.None)if(i.getStyle().positionType==p.Absolute){const e=i.isLeadingPositionDefined(Z);e&&i.setLayoutPosition(i.getLeadingPosition(Z,fe).unwrap()+o.getLeadingBorder(Z)+i.getLeadingMargin(Z,le).unwrap(),Y[Z]),e&&!me(i.getLayout().position[Y[Z]])||i.setLayoutPosition(o.getLeadingBorder(Z)+i.getLeadingMargin(Z,le).unwrap(),Y[Z])}else{let t=ie;const n=Ne(o,i);if(n==e.Stretch&&i.marginLeadingValue(Z).unit!=w.Auto&&i.marginTrailingValue(Z).unit!=w.Auto){if(!Ve(i,Z,fe)){let t=i.getLayout().measuredDimensions[q[j]];const n=i.getStyle(),s=n.aspectRatio.isUndefined()?Le.crossDim:i.getMarginForAxis(Z,le).unwrap()+(K?t/n.aspectRatio.unwrap():t*n.aspectRatio.unwrap());t+=i.getMarginForAxis(j,le).unwrap();const a=f.Exactly,r={value:f.Exactly},l={value:s};Xe(i,j,ge,le,{value:a},{value:t}),Xe(i,Z,fe,le,r,l);const u=K?t:s,d=K?s:t,h=o.getStyle().alignContent!=e.Stretch&&Q;ht(i,u,d,R,me(u)||!K&&h?f.Undefined:f.Exactly,me(d)||K&&h?f.Undefined:f.Exactly,le,he,!0,ue.kStretch,L,x,F,v,_)}}else{const s=a-He(i,Z,le);i.marginLeadingValue(Z).unit==w.Auto&&i.marginTrailingValue(Z).unit==w.Auto?t+=E(0,s/2):i.marginTrailingValue(Z).unit==w.Auto||(i.marginLeadingValue(Z).unit==w.Auto?t+=E(0,s):n==e.FlexStart||(n==e.Center?t+=s/2:t+=s))}i.setLayoutPosition(i.getLayout().position[Y[Z]]+De+t,Y[Z])}}De+=Le.crossDim,Fe=E(Fe,Le.mainDim)}if(y&&(Q||ke(o))){let i=0,a=ie;if(!me(fe)){const t=fe-De;switch(o.getStyle().alignContent){case e.FlexEnd:a+=t;break;case e.Center:a+=t/2;break;case e.Stretch:fe>De&&(i=t/Se);break;case e.SpaceAround:fe>De?(a+=t/(2*Se),Se>1&&(i=t/Se)):a+=t/2;break;case e.SpaceBetween:fe>De&&Se>1&&(i=t/(Se-1));case e.Auto:case e.FlexStart:case e.Baseline:}}let l=0;for(let u=0;u<Se;u++){const d=l;let h,c=0,g=0,m=0;for(h=d;h<X;h++){const i=o.getChild(h);if(i.getStyle().display!=n.None&&i.getStyle().positionType!=p.Absolute){if(i.getLineIndex()!=u)break;if(Ge(i,Z)&&(c=E(c,i.getLayout().measuredDimensions[q[Z]]+i.getMarginForAxis(Z,le).unwrap())),Ne(o,i)==e.Baseline){const e=Oe(i,F)+i.getLeadingMargin(r.Column,le).unwrap(),n=i.getLayout().measuredDimensions[t.Height]+i.getMarginForAxis(r.Column,le).unwrap()-e;g=E(g,e),m=E(m,n),c=E(c,g+m)}}}if(l=h,c+=i,y)for(h=d;h<l;h++){const i=o.getChild(h);if(i.getStyle().display!=n.None&&i.getStyle().positionType!=p.Absolute)switch(Ne(o,i)){case e.FlexStart:i.setLayoutPosition(a+i.getLeadingMargin(Z,le).unwrap(),Y[Z]);break;case e.FlexEnd:i.setLayoutPosition(a+c-i.getTrailingMargin(Z,le).unwrap()-i.getLayout().measuredDimensions[q[Z]],Y[Z]);break;case e.Center:{const e=i.getLayout().measuredDimensions[q[Z]];i.setLayoutPosition(a+(c-e)/2,Y[Z]);break}case e.Stretch:if(i.setLayoutPosition(a+i.getLeadingMargin(Z,le).unwrap(),Y[Z]),!Ve(i,Z,fe)){const e=K?i.getLayout().measuredDimensions[t.Width]+i.getMarginForAxis(j,le).unwrap():c,n=K?c:i.getLayout().measuredDimensions[t.Height]+i.getMarginForAxis(Z,le).unwrap();C(e,i.getLayout().measuredDimensions[t.Width])&&C(n,i.getLayout().measuredDimensions[t.Height])||ht(i,e,n,R,f.Exactly,f.Exactly,le,he,!0,ue.kMultilineStretch,L,x,F,v,_)}break;case e.Baseline:i.setLayoutPosition(a+g-Oe(i,F)+i.getLeadingPosition(r.Column,fe).unwrap(),s.Top);case e.Auto:case e.SpaceBetween:case e.SpaceAround:}}a+=c}}if(o.setLayoutMeasuredDimension(qe(o,r.Row,a-G,c,c),t.Width),o.setLayoutMeasuredDimension(qe(o,r.Column,l-z,g,c),t.Height),se==f.Undefined||o.getStyle().overflow!=m.Scroll&&se==f.AtMost?o.setLayoutMeasuredDimension(qe(o,j,Fe,$,c),q[j]):se==f.AtMost&&o.getStyle().overflow==m.Scroll&&o.setLayoutMeasuredDimension(E(A(ge+te,Ye(o,j,new D(Fe),$).unwrap()),te),q[j]),oe==f.Undefined||o.getStyle().overflow!=m.Scroll&&oe==f.AtMost?o.setLayoutMeasuredDimension(qe(o,Z,De+ne,ee,c),q[Z]):oe==f.AtMost&&o.getStyle().overflow==m.Scroll&&o.setLayoutMeasuredDimension(E(A(fe+ne,Ye(o,Z,new D(De+ne),ee).unwrap()),ne),q[Z]),y&&o.getStyle().flexWrap==S.WrapReverse)for(let e=0;e<X;e++){const t=_e(o,e);t.getStyle().positionType!=p.Absolute&&t.setLayoutPosition(o.getLayout().measuredDimensions[q[Z]]-t.getLayout().position[Y[Z]]-t.getLayout().measuredDimensions[q[Z]],Y[Z])}if(y){const e=o.getChildren();for(let t=0;t<e.length;++t){const i=e[t];i.getStyle().display!=n.None&&i.getStyle().positionType==p.Absolute&&Je(o,i,le,K?se:oe,he,R,L,x,F,v,_)}const t=j==r.RowReverse||j==r.ColumnReverse,i=Z==r.RowReverse||Z==r.ColumnReverse;if(t||i)for(let e=0;e<X;e++){const s=o.getChild(e);s.getStyle().display!=n.None&&(t&&ze(o,s,j),i&&ze(o,s,Z))}}}(o,a,l,d,h,c,g,y,L,F,v,_,M,R,x),tt&&(re.log(o,u.Verbose,null,"%s%d.}%s",st(M),M,b?"*":""),o.print(_),re.log(o,u.Verbose,null,"wm: %s, hm: %s, d: (%f, %f) %s\n",ot(h,L),ot(c,L),P.measuredDimensions[t.Width],P.measuredDimensions[t.Height],x)),P.lastOwnerDirection=d,null==N){let e;P.nextCachedMeasurementsIndex+1>v.maxMeasureCache&&(v.maxMeasureCache=P.nextCachedMeasurementsIndex+1),P.nextCachedMeasurementsIndex==z&&(tt&&re.log(o,u.Verbose,null,"Out of cache entries!\n"),P.nextCachedMeasurementsIndex=0),L?e=P.cachedLayout:(e=P.cachedMeasurements[P.nextCachedMeasurementsIndex],P.nextCachedMeasurementsIndex++),e.availableWidth=a,e.availableHeight=l,e.widthMeasureMode=h,e.heightMeasureMode=c,e.computedWidth=P.measuredDimensions[t.Width],e.computedHeight=P.measuredDimensions[t.Height]}}else P.measuredDimensions[t.Width]=N.computedWidth,P.measuredDimensions[t.Height]=N.computedHeight,L?v.cachedLayouts+=1:v.cachedMeasures+=1,tt&&it&&(re.log(o,u.Verbose,null,"%s%d.{[skipped] ",st(M),M),o.print(_),re.log(o,u.Verbose,null,"wm: %s, hm: %s, aw: %f ah: %f => d: (%f, %f) %s\n",ot(h,L),ot(c,L),a,l,N.computedWidth,N.computedHeight,x));return L&&(o.setLayoutDimension(o.getLayout().measuredDimensions[t.Width],t.Width),o.setLayoutDimension(o.getLayout().measuredDimensions[t.Height],t.Height),o.setHasNewLayout(!0),o.setDirty(!1)),P.generationCount=R,W=L?b||N!=P.cachedLayout?le.kLayout:le.kCachedLayout:null!=N?le.kCachedMeasure:le.kMeasure,ce.publish(o,de.NodeLayout,{layoutType:W,layoutContext:_}),b||null==N}function ct(e,t){return e%t}function gt(e,i,n,o){if(0==i)return;const a=e.getLayout().position[s.Left],r=e.getLayout().position[s.Top],l=e.getLayout().dimensions[t.Width],u=e.getLayout().dimensions[t.Height],d=n+a,h=o+r,c=d+l,g=h+u,f=e.getNodeType()==y.Text;e.setLayoutPosition(ut(a,i,!1,f),s.Left),e.setLayoutPosition(ut(r,i,!1,f),s.Top);const m=!C(ct(l*i,1),0)&&!C(ct(l*i,1),1),p=!C(ct(u*i,1),0)&&!C(ct(u*i,1),1);e.setLayoutDimension(ut(c,i,f&&m,f&&!m)-ut(d,i,!1,f),t.Width),e.setLayoutDimension(ut(g,i,f&&p,f&&!p)-ut(h,i,!1,f),t.Height);const L=Ce(e);for(let t=0;t<L;t++)gt(_e(e,t),i,d,h)}function ft(e){e.getConfig().useLegacyStretchBehaviour=!1;for(const t of e.getChildren())ft(t)}function yt(e,i,n,s,o){ce.publish(e,de.LayoutPassStart,{layoutContext:o});const a=new he;We++,e.resolveDimension();let l=J,u=f.Undefined;const d=e.getStyle().maxDimensions;Ve(e,r.Row,i)?(l=B(e.getResolvedDimension(q[r.Row]),i).add(e.getMarginForAxis(r.Row,i)).unwrap(),u=f.Exactly):B(d[t.Width],i).isUndefined()?(l=i,u=me(l)?f.Undefined:f.Exactly):(l=B(d[t.Width],i).unwrap(),u=f.AtMost);let h=J,c=f.Undefined;if(Ve(e,r.Column,n)?(h=B(e.getResolvedDimension(q[r.Column]),n).add(e.getMarginForAxis(r.Column,i)).unwrap(),c=f.Exactly):B(d[t.Height],n).isUndefined()?(h=n,c=me(h)?f.Undefined:f.Exactly):(h=B(d[t.Height],n).unwrap(),c=f.AtMost),ht(e,l,h,s,u,c,i,n,!0,ue.kInitial,e.getConfig(),a,o,0,We)&&(e.setPosition(e.getLayout().direction,i,n,i),gt(e,e.getConfig().pointScaleFactor,0,0)),ce.publish(e,de.LayoutPassEnd,{layoutContext:o,layoutData:a}),e.getConfig().shouldDiffLayoutWithoutLegacyStretchBehaviour&&e.didUseLegacyFlag()){const t=we(e);t.resolveDimension(),t.markDirtyAndPropogateDownwards(),We++,ft(t);const a=new he;if(ht(t,l,h,s,u,c,i,n,!0,ue.kInitial,t.getConfig(),a,o,0,We)){t.setPosition(t.getLayout().direction,i,n,i),gt(t,t.getConfig().pointScaleFactor,0,0);const s=!t.isLayoutTreeEqualToNode(e);e.setLayoutDoesLegacyFlagAffectsLayout(s)}Se(t),De(t)}}function mt(e,t,i){t||(re.log(e,u.Fatal,null,"%s\n",i),O(i))}function pt(e,t){return e.experimentalFeatures[t]}const Lt=e.Auto,wt=e.FlexStart,xt=e.Center,St=e.FlexEnd,Dt=e.Stretch,Ft=e.Baseline,vt=e.SpaceBetween,_t=e.SpaceAround,Ct=t.Width,Et=t.Height,Mt=i.Inherit,At=i.LTR,Rt=i.RTL,Pt=n.Flex,bt=n.None,Tt=s.Left,Ut=s.Top,Bt=s.Right,Wt=s.Bottom,It=s.Start,Nt=s.End,Ot=s.Horizontal,kt=s.Vertical,Ht=s.All,Vt=a.WebFlexBasis,Gt=r.Column,Yt=r.ColumnReverse,qt=r.Row,zt=r.RowReverse,Xt=l.FlexStart,jt=l.Center,Jt=l.FlexEnd,Zt=l.SpaceBetween,Kt=l.SpaceAround,Qt=l.SpaceEvenly,$t=u.Error,ei=u.Warn,ti=u.Info,ii=u.Debug,ni=u.Verbose,si=u.Fatal,oi=f.Undefined,ai=f.Exactly,ri=f.AtMost,li=y.Default,ui=y.Text,di=m.Visible,hi=m.Hidden,ci=m.Scroll,gi=p.Relative,fi=p.Absolute,yi=w.Undefined,mi=w.Point,pi=w.Percent,Li=w.Auto,wi=S.NoWrap,xi=S.Wrap,Si=S.WrapReverse,Di=void 0;class Fi{}class vi{constructor(e,t){e?(this.width=e,this.height=t):(this.width=0,this.height=0)}static fromJS(e){return new vi(e.width,e.height)}}class _i{constructor(e,t){e?(this.unit=e,this.value=t):(this.unit=w.Undefined,this.value=0)}}class Ci{static create(){return new Ci}constructor(){this.config=Fe()}free(){this.config}setExperimentalFeatureEnabled(e,t){!function(e,t,i){e.experimentalFeatures[t]=i}(this.config,e,t)}setPointScaleFactor(e){!function(e,t){!function(e,t,i){t||(re.log(e,u.Fatal,null,"%s\n",i),O(i))}(e,t>=0,"Scale factor should not be less than zero"),e.pointScaleFactor=0==t?0:t}(this.config,e)}isExperimentalFeatureEnabled(e){return pt(this.config,e)}}function Ei(e){return function(e){return e.getContext()}(e)}function Mi(e){return new _i(e.unit,e.value)}class Ai{static create(e){return e?new Ai(e):new Ai}static createDefault(){return new Ai(void 0)}static createWithConfig(e){return new Ai(e)}constructor(e){this.node=function(e){const t=new oe(e);return ce.publish(t,de.NodeAllocation,{config:e}),t}(e?e.config:Le()),this.node.setContext(this)}calculateLayout(e,t,i){yt(this.node,e,t,i,null)}copyStyle(e){var t,i;i=e,(t=this.node).getStyle().isEqual(i.getStyle())||(t.setStyle(i.getStyle()),t.markDirtyAndPropogate())}free(){xe(this.node)}freeRecursive(){De(this.node)}getAlignContent(){return this.node.getStyle().alignContent}getAlignItems(){return this.node.getStyle().alignItems}getAlignSelf(){return this.node.getStyle().alignSelf}getAspectRatio(){return function(e){const t=e.getStyle().aspectRatio;return t.isUndefined()?J:t.getValue()}(this.node)}getBorder(e){return function(e,t){return e.getStyle().border[t].unit==w.Undefined||e.getStyle().border[t].unit==w.Auto?J:e.getStyle().border[t].value}(this.node,e)}getChild(e){return Ei(_e(this.node,e))}getChildCount(){return Ce(this.node)}getComputedBorder(e){return function(e,t){mt(e,t<=s.End,"Cannot get layout properties of multi-edge shorthands");const n=t;return n==s.Start?e.getLayout().direction==i.RTL?e.getLayout().border[s.Right]:e.getLayout().border[s.Left]:n==s.End?e.getLayout().direction==i.RTL?e.getLayout().border[s.Left]:e.getLayout().border[s.Right]:e.getLayout().border[n]}(this.node,e)}getComputedBottom(){return Te(this.node)}getComputedHeight(){return b(Be(this.node))}getComputedLayout(){const e=new Fi;return e.left=Re(this.node),e.right=be(this.node),e.top=Pe(this.node),e.bottom=Te(this.node),e.width=Ue(this.node),e.height=Be(this.node),e}getComputedLeft(){return b(Re(this.node))}getComputedMargin(e){return b(function(e,t){mt(e,t<=s.End,"Cannot get layout properties of multi-edge shorthands");const n=t;return n==s.Start?e.getLayout().direction==i.RTL?e.getLayout().margin[s.Right]:e.getLayout().margin[s.Left]:n==s.End?e.getLayout().direction==i.RTL?e.getLayout().margin[s.Left]:e.getLayout().margin[s.Right]:e.getLayout().margin[n]}(this.node,e))}getComputedPadding(e){return b(function(e,t){mt(e,t<=s.End,"Cannot get layout properties of multi-edge shorthands");const n=t;return n==s.Start?e.getLayout().direction==i.RTL?e.getLayout().padding[s.Right]:e.getLayout().padding[s.Left]:n==s.End?e.getLayout().direction==i.RTL?e.getLayout().padding[s.Left]:e.getLayout().padding[s.Right]:e.getLayout().padding[n]}(this.node,e))}getComputedRight(){return b(be(this.node))}getComputedTop(){return b(Pe(this.node))}getComputedWidth(){return b(Ue(this.node))}getDisplay(){return this.node.getStyle().display}getFlexBasis(){return Mi(function(e){const t=e.getStyle().flexBasis;return t.unit!=w.Undefined&&t.unit!=w.Auto||(t.value=J),t}(this.node))}getFlexDirection(){return this.node.getStyle().flexDirection}getFlexGrow(){return(e=this.node).getStyle().flexGrow.isUndefined()?0:e.getStyle().flexGrow.unwrap();var e}getFlexShrink(){return(e=this.node).getStyle().flexShrink.isUndefined()?e.getConfig().useWebDefaults?1:0:e.getStyle().flexShrink.getValue();var e}getFlexWrap(){return this.node.getStyle().flexWrap}getHeight(){return Mi(this.node.getStyle().dimensions[t.Height])}getJustifyContent(){return this.node.getStyle().justifyContent}getMargin(e){return Mi(function(e,t){return e.getStyle().margin[t]}(this.node,e))}getMaxHeight(){return Mi(this.node.getStyle().maxDimensions[t.Height])}getMaxWidth(){return Mi(this.node.getStyle().maxDimensions[t.Width])}getMinHeight(){return Mi(this.node.getStyle().minDimensions[t.Height])}getMinWidth(){return Mi(this.node.getStyle().minDimensions[t.Width])}getOverflow(){return this.node.getStyle().overflow}getPadding(e){return Mi(function(e,t){return e.getStyle().padding[t]}(this.node,e))}getParent(){const e=this.node.getOwner();if(e)return Ei(e)}getPosition(e){return Mi(function(e,t){return e.getStyle().position[t]}(this.node,e))}getPositionType(){return this.node.getStyle().positionType}getWidth(){return Mi(this.node.getStyle().dimensions[t.Width])}getDirtied(){return this.node.getDirtied()}insertChild(e,t){!function(e,t,i){mt(e,null==t.getOwner(),"Child already has a owner, it must be removed first."),mt(e,!e.hasMeasureFunc(),"Cannot add child: Nodes with measure functions cannot have children."),e.insertChildIndex(t,i),t.setOwner(e),e.markDirtyAndPropogate()}(this.node,e.node,t)}isDirty(){return this.node.isDirty()}markDirty(){var e;mt(e=this.node,e.hasMeasureFunc(),"Only leaf nodes with custom measure functions should manually mark themselves as dirty"),e.markDirtyAndPropogate()}removeChild(e){ve(this.node,e.node)}removeAllChildren(){!function(e){const t=Ce(e);if(0!=t){if(_e(e,0).getOwner()==e){for(let i=0;i<t;i++){const t=_e(e,i);t.setLayout(new j),t.setOwner(null)}return e.clearChildren(),void e.markDirtyAndPropogate()}e.setChildren([]),e.markDirtyAndPropogate()}}(this.node)}reset(){this.node.reset()}setAlignContent(e){!function(e,t){Me(e,"alignContent",t)}(this.node,e)}setAlignItems(e){!function(e,t){Me(e,"alignItems",t)}(this.node,e)}setAlignSelf(e){!function(e,t){Me(e,"alignSelf",t)}(this.node,e)}setAspectRatio(e){!function(e,t){if(e.getStyle().aspectRatio.isDiffValue(t)){const i=e.getStyle();i.aspectRatio=new D(t),e.setStyle(i),e.markDirtyAndPropogate()}}(this.node,e)}setBorder(e,t){!function(e,t,i){const n=new $(b(i),me(i)?w.Undefined:w.Point);if(e.getStyle().border[t].value!=n.value&&n.unit!=w.Undefined||e.getStyle().border[t].unit!=n.unit){const i=e.getStyle();i.border[t]=n,e.setStyle(i),e.markDirtyAndPropogate()}}(this.node,e,t)}setDisplay(e){!function(e,t){Me(e,"display",t)}(this.node,e)}setFlex(e){!function(e,t){if(e.getStyle().flex.isDiffValue(t)){const i=e.getStyle();me(t)?i.flex=new D:i.flex=new D(t),e.setStyle(i),e.markDirtyAndPropogate()}}(this.node,e)}setFlexBasis(e){if("string"==typeof e){if("%"!==e[e.length-1])throw new Error("Invalid input type");this.setFlexBasisPercent(parseFloat(e))}else!function(e,t){const i=new $(b(t),me(t)?w.Undefined:w.Point);if(e.getStyle().flexBasis.value!=i.value&&i.unit!=w.Undefined||e.getStyle().flexBasis.unit!=i.unit){const t=e.getStyle();t.flexBasis=i,e.setStyle(t),e.markDirtyAndPropogate()}}(this.node,e)}setFlexBasisPercent(e){!function(e,t){if(e.getStyle().flexBasis.value!=t||e.getStyle().flexBasis.unit!=w.Percent){const i=e.getStyle();i.flexBasis.value=b(t),i.flexBasis.unit=me(t)?w.Auto:w.Percent,e.setStyle(i),e.markDirtyAndPropogate()}}(this.node,e)}setFlexDirection(e){!function(e,t){Me(e,"flexDirection",t)}(this.node,e)}setFlexGrow(e){!function(e,t){if(e.getStyle().flexGrow.isDiffValue(t)){const i=e.getStyle();me(t)?i.flexGrow=new D:i.flexGrow=new D(t),e.setStyle(i),e.markDirtyAndPropogate()}}(this.node,e)}setFlexShrink(e){!function(e,t){if(e.getStyle().flexShrink.isDiffValue(t)){const i=e.getStyle();me(t)?i.flexShrink=new D:i.flexShrink=new D(t),e.setStyle(i),e.markDirtyAndPropogate()}}(this.node,e)}setFlexWrap(e){!function(e,t){Me(e,"flexWrap",t)}(this.node,e)}setHeight(e){if("string"==typeof e)if("auto"===e)this.setHeightAuto();else{if("%"!==e[e.length-1])throw new Error("Invalid input type.");this.setHeightPercent(parseFloat(e))}else!function(e,i){const n=new $(b(i),me(i)?w.Undefined:w.Point);Ae(e,"dimensions",t.Height,n)}(this.node,e)}setHeightAuto(){Ae(this.node,"dimensions",t.Height,Q())}setHeightPercent(e){!function(e,i){const n=new $(b(i),me(i)?w.Auto:w.Percent);Ae(e,"dimensions",t.Height,n)}(this.node,e)}setJustifyContent(e){!function(e,t){Me(e,"justifyContent",t)}(this.node,e)}setMargin(e,t){if("string"==typeof t)if("auto"===t)this.setMarginAuto(e);else{if("%"!==t[t.length-1])throw new Error("Invalid input type.");this.setMarginPercent(e,parseFloat(t))}else!function(e,t,i){Ae(e,"margin",t,new $(b(i),me(i)?w.Undefined:w.Point))}(this.node,e,t)}setMarginAuto(e){!function(e,t){Ae(e,"margin",t,Q())}(this.node,e)}setMarginPercent(e,t){!function(e,t,i){Ae(e,"margin",t,new $(b(i),me(i)?w.Undefined:w.Percent))}(this.node,e,t)}setMaxHeight(e){if("string"==typeof e){if("%"!==e[e.length-1])throw new Error("Invalid input type.");this.setMaxHeightPercent(parseFloat(e))}else!function(e,i){const n=new $(b(i),me(i)?w.Undefined:w.Point);Ae(e,"maxDimensions",t.Height,n)}(this.node,e)}setMaxHeightPercent(e){!function(e,i){const n=new $(b(i),me(i)?w.Undefined:w.Percent);Ae(e,"maxDimensions",t.Height,n)}(this.node,e)}setMaxWidth(e){if("string"==typeof e){if("%"!==e[e.length-1])throw new Error("Invalid input type.");this.setMaxWidthPercent(parseFloat(e))}else!function(e,i){const n=new $(b(i),me(i)?w.Undefined:w.Point);Ae(e,"maxDimensions",t.Width,n)}(this.node,e)}setMaxWidthPercent(e){!function(e,i){const n=new $(b(i),me(i)?w.Undefined:w.Percent);Ae(e,"maxDimensions",t.Width,n)}(this.node,e)}setMeasureFunc(e){null==e?this.unsetMeasureFunc():pe(this.node,e)}unsetMeasureFunc(){pe(this.node,null)}setMinHeight(e){if("string"==typeof e){if("%"!==e[e.length-1])throw new Error("Invalid input type.");this.setMinHeightPercent(parseFloat(e))}else!function(e,i){const n=new $(b(i),me(i)?w.Undefined:w.Point);Ae(e,"minDimensions",t.Height,n)}(this.node,e)}setMinHeightPercent(e){!function(e,i){const n=new $(b(i),me(i)?w.Undefined:w.Percent);Ae(e,"minDimensions",t.Height,n)}(this.node,e)}setMinWidth(e){if("string"==typeof e){if("%"!==e[e.length-1])throw new Error("Invalid input type.");this.setMinWidthPercent(parseFloat(e))}else!function(e,i){const n=new $(b(i),me(i)?w.Undefined:w.Point);Ae(e,"minDimensions",t.Width,n)}(this.node,e)}setMinWidthPercent(e){!function(e,i){const n=new $(b(i),me(i)?w.Undefined:w.Percent);Ae(e,"minDimensions",t.Width,n)}(this.node,e)}setOverflow(e){!function(e,t){Me(e,"overflow",t)}(this.node,e)}setPadding(e,t){if("string"==typeof t){if("%"!==t[t.length-1])throw new Error("Invalid input type.");this.setPaddingPercent(e,parseFloat(t))}else!function(e,t,i){Ae(e,"padding",t,new $(b(i),me(i)?w.Undefined:w.Point))}(this.node,e,t)}setPaddingPercent(e,t){!function(e,t,i){Ae(e,"padding",t,new $(b(i),me(i)?w.Undefined:w.Percent))}(this.node,e,t)}setPosition(e,t){if("string"==typeof t){if("%"!==t[t.length-1])throw new Error("Invalid input type.");this.setPositionPercent(e,parseFloat(t))}else!function(e,t,i){Ae(e,"position",t,new $(b(i),me(i)?w.Undefined:w.Point))}(this.node,e,t)}setPositionPercent(e,t){!function(e,t,i){Ae(e,"position",t,new $(b(i),me(i)?w.Undefined:w.Percent))}(this.node,e,t)}setPositionType(e){!function(e,t){Me(e,"positionType",t)}(this.node,e)}setWidth(e){if("string"==typeof e)if("%"===e[e.length-1])this.setWidthPercent(parseFloat(e));else{if("auto"!==e)throw new Error("Invalid input type.");this.setWidthAuto()}else!function(e,i){const n=new $(b(i),me(i)?w.Undefined:w.Point);Ae(e,"dimensions",t.Width,n)}(this.node,e)}setWidthAuto(){Ae(this.node,"dimensions",t.Width,Q())}setWidthPercent(e){!function(e,i){const n=new $(b(i),me(i)?w.Auto:w.Percent);Ae(e,"dimensions",t.Width,n)}(this.node,e)}setDirtiedFunc(e){return function(e,t){e.setDirtiedFunc(t)}(this.node,e)}unsetMeasureFun(){pe(this.node,void 0)}isReferenceBaseline(){return this.node.isReferenceBaseline()}setIsReferenceBaseline(e){!function(e,t){e.isReferenceBaseline()!=t&&(e.setIsReferenceBaseline(t),e.markDirtyAndPropogate())}(this.node,e)}}Yoga=c})();